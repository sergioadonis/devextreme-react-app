(this["webpackJsonpsistema-inventario"]=this["webpackJsonpsistema-inventario"]||[]).push([[0],{622:function(e,t,n){},624:function(e,t,n){},625:function(e,t,n){},631:function(e,t,n){},670:function(e,t,n){},671:function(e,t,n){},876:function(e,t,n){},879:function(e,t,n){},880:function(e,t,n){},882:function(e,t,n){},883:function(e,t,n){},884:function(e,t,n){},885:function(e,t,n){},886:function(e,t,n){},887:function(e,t,n){},888:function(e,t,n){},889:function(e,t,n){"use strict";n.r(t);n(421),n(431);var a=n(3),c=n.n(a),i=n(283),o=n.n(i),s=(n(622),n(623),n(624),n(625),n(76)),r=n(77),u=(n(631),n(224)),l=n.n(u),d=n(67),j=n(27),b=n(0),m=Object(a.createContext)({}),p=function(){return Object(a.useContext)(m)};function h(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(b.jsx)(m.Provider,Object(d.a)({value:{navigationData:c,setNavigationData:i}},e))}var O=Object({NODE_ENV:"production",PUBLIC_URL:"/devextreme-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"sergioadonis.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"aF8oh68syqvCtJXf2O2OCs5U9rvakeUq",REACT_APP_AUTH0_SCOPE:"read:current_user"}).REACT_APP_AUTH0_AUDIENCE,x=Object(a.createContext)({publicUrl:"/devextreme-react-app",auth0ClientId:"aF8oh68syqvCtJXf2O2OCs5U9rvakeUq",auth0Domain:"sergioadonis.auth0.com",auth0Scope:"read:current_user",auth0Audience:O}),f=function(){return Object(a.useContext)(x)},v=n(22),g=n.n(v),C=n(46),k=Object(a.createContext)({accessToken:null,loading:!0}),T=function(e){var t=Object(a.useState)(!0),n=Object(j.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(),s=Object(j.a)(o,2),u=s[0],l=s[1],m=Object(r.b)().getAccessTokenSilently;return Object(a.useEffect)((function(){function e(){return(e=Object(C.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,l(t),i(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),Object(b.jsx)(k.Provider,Object(d.a)({value:{accessToken:u,accessTokenLoading:c}},e))},y=function(){var e=Object(a.useState)(I()),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(a.useCallback)((function(){c(I())}),[]);return Object(a.useEffect)((function(){return N(i),function(){D(i)}}),[i]),n},S=[],_=window.matchMedia("(max-width: 599.99px)"),w=window.matchMedia("(min-width: 600px) and (max-width: 959.99px)"),P=window.matchMedia("(min-width: 960px) and (max-width: 1279.99px)"),E=window.matchMedia("(min-width: 1280px)");[_,w,P,E].forEach((function(e){e.addListener((function(e){e.matches&&S.forEach((function(e){return e()}))}))}));var N=function(e){return S.push(e)},D=function(e){S=S.filter((function(t){return t!==e}))};function I(){return{isXSmall:_.matches,isSmall:w.matches,isMedium:P.matches,isLarge:E.matches}}var M=n(36),F="Sistema de Inventarios",R=(n(670),n(671),n(12)),A=n.n(R),L=function(e){var t=e.userId,n=Object(a.useState)({}),c=Object(j.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)(!0),r=Object(j.a)(s,2),u=r[0],l=r[1],d=Object(a.useState)(),b=Object(j.a)(d,2),m=b[0],p=b[1],h=f().auth0Domain,O=Object(a.useContext)(k),x=O.accessToken,v=O.accessTokenLoading;return Object(a.useEffect)((function(){function e(){return(e=Object(C.a)(g.a.mark((function e(){var n,a,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://".concat(h,"/api/v2/users/").concat(t),e.next=4,fetch(n,{headers:{Authorization:"Bearer "+x}});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,i=c.user_metadata,o(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),p(e.t0);case 15:l(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!v&&function(){e.apply(this,arguments)}()}),[x,t,h,v]),{userMetadata:i,loading:u,error:m}},U=function(e){var t=e.picture;return Object(b.jsx)("div",{className:"form-avatar",children:Object(b.jsx)("img",{alt:"",src:t})})},H=function(e){var t=e.formData;return Object(b.jsx)(A.a,{id:"form",defaultFormData:t,labelLocation:"top",colCountByScreen:B,readOnly:!0})},B={xs:1,sm:2,md:3,lg:4},z=(n(759),n(62)),W=n.n(z),q=n(139),J=n.n(q),X={store:{type:"odata",key:"Task_ID",url:"https://js.devexpress.com/Demos/DevAV/odata/Tasks"},expand:"ResponsibleEmployee",select:["Task_ID","Task_Subject","Task_Start_Date","Task_Due_Date","Task_Status","Task_Priority","Task_Completion","ResponsibleEmployee/Employee_Full_Name"]},K=[{name:"High",value:4},{name:"Urgent",value:3},{name:"Normal",value:2},{name:"Low",value:1}],V=[{path:"/tasks",component:function(){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"content-block",children:"Tasks"}),Object(b.jsx)("div",{className:"content-block",children:Object(b.jsx)(q.Button,{text:"Create a new task",type:"default",icon:"file"})}),Object(b.jsx)("div",{className:"content-block",children:Object(b.jsxs)(W.a,{className:"dx-card",dataSource:X,showBorders:!1,focusedRowEnabled:!0,defaultFocusedRowIndex:0,columnAutoWidth:!0,columnHidingEnabled:!0,children:[Object(b.jsx)(z.Paging,{defaultPageSize:10}),Object(b.jsx)(z.Pager,{showPageSizeSelector:!0,showInfo:!0}),Object(b.jsx)(z.FilterRow,{visible:!0}),Object(b.jsx)(z.Column,{dataField:"Task_ID",width:90,hidingPriority:2}),Object(b.jsx)(z.Column,{dataField:"Task_Subject",width:200,caption:"Subject",hidingPriority:8}),Object(b.jsx)(z.Column,{dataField:"Task_Status",caption:"Status",hidingPriority:6}),Object(b.jsx)(z.Column,{dataField:"Task_Priority",caption:"Priority",hidingPriority:5,children:Object(b.jsx)(z.Lookup,{dataSource:K,valueExpr:"value",displayExpr:"name"})}),Object(b.jsx)(z.Column,{dataField:"ResponsibleEmployee.Employee_Full_Name",caption:"Assigned To",allowSorting:!1,hidingPriority:7}),Object(b.jsx)(z.Column,{dataField:"Task_Start_Date",caption:"Start Date",dataType:"date",hidingPriority:3}),Object(b.jsx)(z.Column,{dataField:"Task_Due_Date",caption:"Due Date",dataType:"date",hidingPriority:4}),Object(b.jsx)(z.Column,{dataField:"Task_Priority",caption:"Priority",name:"Priority",hidingPriority:1}),Object(b.jsx)(z.Column,{dataField:"Task_Completion",caption:"Completion",hidingPriority:0})]})})]})}},{path:"/profile",component:function(){var e=Object(r.b)().user,t=L({userId:e.sub}),n=t.userMetadata,a=t.loading,i=t.error;return i&&console.log(i),Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"content-block",children:"Profile"}),a?Object(b.jsx)(l.a,{visible:!0}):Object(b.jsxs)("div",{className:"content-block dx-card responsive-paddings",children:[Object(b.jsx)(U,{picture:e.picture}),Object(b.jsx)(H,{formData:n})]})]})}},{path:"/home",component:function(){return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("h2",{className:"content-block",children:"Inicio"}),Object(b.jsx)("div",{className:"content-block",children:Object(b.jsx)("div",{className:"dx-card responsive-paddings"})})]})}},{path:"/signout",component:function(){var e=Object(r.b)().logout;return Object(a.useEffect)((function(){return e({returnTo:window.location.origin+"/devextreme-react-app"})})),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"You clicked signout"})})}}].map((function(e){return Object(d.a)(Object(d.a)({},e),{},{component:(t=e.component,function(e){var n=e.match.path,i=p().setNavigationData;return Object(a.useEffect)((function(){i({currentPath:n})}),[n,i]),c.a.createElement(t,e)})});var t})),Y=n(225),G=n.n(Y),Q=n(158),Z=n.n(Q),$=n(100),ee=n.n($),te=n(284),ne=n.n(te),ae=n(418),ce=n.n(ae),ie=(n(876),function(e){var t=e.menuMode,n=Object(r.b)(),c=n.user,i=n.logout,o=Object(M.g)(),s=p().navigationData.currentPath;console.log(s);var u=Object(a.useCallback)((function(){return o.push("/profile")}),[o]),l=Object(a.useMemo)((function(){return[{text:"Profile",icon:"user",onClick:u},{text:"Logout",icon:"runner",onClick:function(){return i({returnTo:window.location.origin+"/devextreme-react-app"})}}]}),[u,i]);return Object(b.jsxs)("div",{className:"user-panel",children:[c&&Object(b.jsxs)("div",{className:"user-info",children:[Object(b.jsx)("div",{className:"image-container",children:Object(b.jsx)("div",{style:{background:"url(".concat(c.picture,") no-repeat #fff"),backgroundSize:"cover"},className:"user-image"})}),Object(b.jsx)("div",{className:"user-name",children:c.email})]}),"context"===t&&Object(b.jsx)(ne.a,{items:l,target:".user-button",showEvent:"dxclick",width:400,cssClass:"user-menu",children:Object(b.jsx)(te.Position,{my:"top center",at:"bottom center"})}),"list"===t&&Object(b.jsx)(ce.a,{className:"dx-toolbar-menu-action",items:l})]})}),oe=(n(879),n(138)),se=function(e){var t=e.menuToggleEnabled,n=e.title,a=e.toggleMenu;return Object(b.jsx)("header",{className:"header-component",children:Object(b.jsxs)(ee.a,{className:"header-toolbar",children:[Object(b.jsx)($.Item,{visible:t,location:"before",widget:"dxButton",cssClass:"menu-button",children:Object(b.jsx)(J.a,{icon:"menu",stylingMode:"text",onClick:a})}),Object(b.jsx)($.Item,{location:"before",cssClass:"header-title",text:n,visible:!!n}),Object(b.jsx)($.Item,{location:"after",locateInMenu:"auto",menuItemTemplate:"userPanelTemplate",children:Object(b.jsx)(J.a,{className:"user-button authorization",width:210,height:"100%",stylingMode:"text",children:Object(b.jsx)(ie,{menuMode:"context"})})}),Object(b.jsx)(oe.Template,{name:"userPanelTemplate",children:Object(b.jsx)(ie,{menuMode:"list"})})]})})},re=(n(880),function(e){var t=Object.assign({},e);return Object(b.jsx)("footer",Object(d.a)({className:"footer"},t))});n(118),n(99);n(882),n(883),n(884);var ue=n(420),le=n.n(ue),de=[{text:"Inicio",path:"/home",icon:"home"},{text:"Tasks",path:"/tasks",icon:"fields"},{text:"Reportes",icon:"copy",items:[{text:"Reporte de Existencias",path:"/current-balance-report"},{text:"Reporte de Costos",path:"/costs-report"}]},{text:"Transacciones",icon:"detailslayout",items:[{text:"Entradas",path:"/inputs"},{text:"Salidas",path:"/outputs"},{text:"Traslados",path:"/transfers"},{text:"Transformaciones",path:"/transformations"},{text:"Contabilidad",path:"/accounting"}]},{text:"Configuraciones",icon:"preferences",items:[{text:"Ubicaciones",path:"/locations"},{text:"Items",path:"/items"},{text:"Conversiones",path:"/conversions"},{text:"Costos",path:"/costs"},{text:"Veh\xedculos",path:"/vehicles"},{text:"Conductores",path:"/drivers"}]}],je=(n(885),n(186)),be=function(e){var t=e.children,n=e.selectedItemChanged,c=e.openMenu,i=e.compactMode,o=e.onMenuReady,s=y().isLarge;function r(){return de.map((function(e){return e.path&&!/^\//.test(e.path)&&(e.path="/".concat(e.path)),Object(d.a)(Object(d.a)({},e),{},{expanded:s})}))}var u=Object(a.useMemo)(r,[r]),l=p().navigationData.currentPath,j=Object(a.useRef)(),m=Object(a.useRef)(),h=Object(a.useCallback)((function(e){var t=m.current;t&&je.off(t,"dxclick"),m.current=e,je.on(e,"dxclick",(function(e){c(e)}))}),[c]);return Object(a.useEffect)((function(){var e=j.current&&j.current.instance;e&&(void 0!==l&&(e.selectItem(l),e.expandItem(l)),i&&e.collapseAll())}),[l,i]),Object(b.jsxs)("div",{className:"dx-swatch-additional side-navigation-menu",ref:h,children:[t,Object(b.jsx)("div",{className:"menu-container",children:Object(b.jsx)(le.a,{ref:j,items:u,keyExpr:"path",selectionMode:"single",focusStateEnabled:!1,expandEvent:"click",onItemClick:n,onContentReady:o,width:"100%"})})]})};n(886);function me(){var e=y(),t=e.isSmall,n=e.isMedium,c=Object(a.useState)(t||n),i=Object(j.a)(c,2),o=i[0],s=i[1],r=Object(a.useCallback)((function(){o&&setTimeout((function(){return s(!1)}))}),[o]);return[o?"pre-init-blink-fix":"",r]}var pe=function(e){var t=e.title,n=e.children,i=Object(a.useRef)(),o=Object(M.g)(),s=y(),r=s.isXSmall,u=s.isLarge,l=me(),d=Object(j.a)(l,2),m=d[0],p=d[1],h=Object(a.useState)(u?he.Opened:he.Closed),O=Object(j.a)(h,2),x=O[0],f=O[1],v=Object(a.useCallback)((function(e){var t=e.event;f((function(e){return e===he.Closed?he.Opened:he.Closed})),t.stopPropagation()}),[]),g=Object(a.useCallback)((function(){f((function(e){return e===he.Closed?he.TemporaryOpened:e}))}),[]),C=Object(a.useCallback)((function(){f((function(e){return e===he.Closed||u?e:he.Closed}))}),[u]),k=Object(a.useCallback)((function(e){var t=e.itemData.path,n=e.event,a=e.node;x!==he.Closed&&t&&!a.selected?(o.push(t),i.current.instance.scrollTo(0),u&&x!==he.TemporaryOpened||(f(he.Closed),n.stopPropagation())):n.preventDefault()}),[o,x,u]);return Object(b.jsxs)("div",{className:"side-nav-outer-toolbar",children:[Object(b.jsx)(se,{className:"layout-header",menuToggleEnabled:!0,toggleMenu:v,title:t}),Object(b.jsxs)(G.a,{className:["drawer",m].join(" "),position:"before",closeOnOutsideClick:C,openedStateMode:u?"shrink":"overlap",revealMode:r?"slide":"expand",minSize:r?0:60,maxSize:250,shading:!u,opened:x!==he.Closed,template:"menu",children:[Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(Z.a,{ref:i,className:"layout-body with-footer",children:[Object(b.jsx)("div",{className:"content",children:c.a.Children.map(n,(function(e){return e.type!==re&&e}))}),Object(b.jsx)("div",{className:"content-block",children:c.a.Children.map(n,(function(e){return e.type===re&&e}))})]})}),Object(b.jsx)(oe.Template,{name:"menu",children:Object(b.jsx)(be,{compactMode:x===he.Closed,selectedItemChanged:k,openMenu:g,onMenuReady:p})})]})]})},he={Closed:1,Opened:2,TemporaryOpened:3},Oe=(n(887),n(888),function(){return Object(b.jsxs)(pe,{title:F,children:[Object(b.jsxs)(M.d,{children:[V.map((function(e){var t=e.path,n=e.component;return Object(b.jsx)(M.b,{exact:!0,path:t,component:n},t)})),Object(b.jsx)(M.a,{to:"/home"})]}),Object(b.jsxs)(re,{children:["Copyright \xa9 2011-",(new Date).getFullYear()," ",F," Inc.",Object(b.jsx)("br",{}),"All trademarks or registered trademarks are property of their respective owners."]})]})}),xe=function(){var e=Object(r.b)().loginWithRedirect;return Object(a.useEffect)(e),Object(b.jsx)("div",{children:Object(b.jsx)("p",{children:"Redirecting to sign in flow..."})})};function fe(){var e=Object(r.b)(),t=e.user;return e.isLoading?Object(b.jsx)(l.a,{visible:!0}):t?Object(b.jsx)(Oe,{}):Object(b.jsx)(xe,{})}var ve=function(){var e=function(){var e=y();return e.isLarge?"screen-large":e.isMedium?"screen-medium":e.isSmall?"screen-small":"screen-x-small"}(),t=f(),n=t.publicUrl,a=t.auth0ClientId,c=t.auth0Domain,i=t.auth0Scope,o=t.auth0Audience;return Object(b.jsx)(s.a,{children:Object(b.jsx)(r.a,{domain:c,clientId:a,redirectUri:window.location.origin+n,useRefreshTokens:!0,audience:o,scope:i,children:Object(b.jsx)(T,{scope:i,children:Object(b.jsx)(h,{children:Object(b.jsx)("div",{className:"app ".concat(e),children:Object(b.jsx)(fe,{})})})})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,890)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[889,1,2]]]);
//# sourceMappingURL=main.026f4519.chunk.js.map